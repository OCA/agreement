<?xml version="1.0" ?>
<odoo>
    <record id="agreement_rebate_line_view_tree" model="ir.ui.view">
        <field name="name">agreement.rebate.line.tree</field>
        <field name="model">agreement.rebate.line</field>
        <field name="arch" type="xml">
            <tree>
                <field name="rebate_target" />
                <field name="rebate_domain" groups="base.group_no_one" />
                <field name="rebate_discount" />
            </tree>
        </field>
    </record>
    <record id="agreement_rebate_line_view_form" model="ir.ui.view">
        <field name="name">agreement.rebate.line.form</field>
        <field name="model">agreement.rebate.line</field>
        <field name="arch" type="xml">
            <form string="Rebate Lines">
                <sheet>
                    <group>
                        <group>
                            <field name="rebate_target" />
                        </group>
                        <group>
                            <field
                                name="rebate_discount"
                                invisible="context.get('hide_rebate_discount')"
                            />
                        </group>
                    </group>
                    <separator string="Select Items"/>
                    <div>
                        <field
                            name="rebate_product_ids"
                            widget="many2many_tags"
                            invisible="rebate_target != 'product'"
                            nolabel="1"
                        />
                        <field
                            name="rebate_product_tmpl_ids"
                            widget="many2many_tags"
                            invisible="rebate_target != 'product_tmpl'"
                            nolabel="1"
                        />
                        <field
                            name="rebate_category_ids"
                            widget="many2many_tags"
                            invisible="rebate_target != 'category'"
                            nolabel="1"
                        />
                        <field
                            name="rebate_condition_id"
                            invisible="rebate_target != 'condition'"
                            nolabel="1"
                        />
                        <field
                            name="rebate_domain"
                            widget="domain"
                            options="{'model': 'account.move.line', 'in_dialog': True}"
                            invisible="rebate_target != 'domain'"
                            nolabel="1"
                        />
                    </div>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
